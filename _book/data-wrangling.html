<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Data Wrangling | Data Analysis in Medicine and Health using R</title>
  <meta name="description" content="Chapter 5 Data Wrangling | Data Analysis in Medicine and Health using R" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Data Wrangling | Data Analysis in Medicine and Health using R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bookdown.org/drki_musa/dataanalysis/" />
  
  
  <meta name="github-repo" content="drkamarul/multivar_data_analysis" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Data Wrangling | Data Analysis in Medicine and Health using R" />
  
  
  

<meta name="author" content="Kamarul Imran, Wan Nor Arifin, Tengku Muhammad Hanis Tengku Mukhtar" />


<meta name="date" content="2022-01-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-visualization.html"/>
<link rel="next" href="r-markdown.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analysis in Medicine and Health using R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html"><i class="fa fa-check"></i><b>1</b> Introduction to R, RStudio and RStudio Cloud</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#rstudio-cloud"><i class="fa fa-check"></i><b>1.1</b> RStudio Cloud</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#the-rstudio-cloud-registration"><i class="fa fa-check"></i><b>1.1.1</b> The RStudio Cloud Registration</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#register-and-log-in"><i class="fa fa-check"></i><b>1.1.2</b> Register and log in</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#point-and-click-r-gui"><i class="fa fa-check"></i><b>1.2</b> Point and click R GUI</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#rstudio-server"><i class="fa fa-check"></i><b>1.3</b> RStudio Server</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#installing-r-and-rstudio-on-your-local-machine"><i class="fa fa-check"></i><b>1.4</b> Installing R and RStudio on Your Local Machine</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#installing-r"><i class="fa fa-check"></i><b>1.4.1</b> Installing R</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#installing-rstudio-ide"><i class="fa fa-check"></i><b>1.4.2</b> Installing RStudio IDE</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#checking-r-and-rstudio-installations"><i class="fa fa-check"></i><b>1.4.3</b> Checking R and RStudio Installations</a></li>
<li class="chapter" data-level="1.4.4" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#installation-of-miktex-texlive-and-mactex"><i class="fa fa-check"></i><b>1.4.4</b> Installation of MiKTeX, TeXLive and MacTex</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#starting-your-rstudio"><i class="fa fa-check"></i><b>1.5</b> Starting your RStudio</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#console-tab"><i class="fa fa-check"></i><b>1.5.1</b> Console tab</a></li>
<li class="chapter" data-level="1.5.2" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#files-plots-packages-help-and-viewer-pane"><i class="fa fa-check"></i><b>1.5.2</b> Files, Plots, Packages, Help and Viewer Pane</a></li>
<li class="chapter" data-level="1.5.3" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#environment-history-connection-and-build-pane"><i class="fa fa-check"></i><b>1.5.3</b> Environment, History, Connection and Build Pane</a></li>
<li class="chapter" data-level="1.5.4" data-path="introduction-to-r-rstudio-and-rstudio-cloud.html"><a href="introduction-to-r-rstudio-and-rstudio-cloud.html#source-pane"><i class="fa fa-check"></i><b>1.5.4</b> Source Pane</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html"><i class="fa fa-check"></i><b>2</b> R Scripts and R Packages</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#open-a-new-r-script"><i class="fa fa-check"></i><b>2.1</b> Open a new R script</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#our-first-r-script"><i class="fa fa-check"></i><b>2.1.1</b> Our first R script</a></li>
<li class="chapter" data-level="2.1.2" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#function-argument-and-parameters"><i class="fa fa-check"></i><b>2.1.2</b> Function, Argument and Parameters</a></li>
<li class="chapter" data-level="2.1.3" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#need-more-help"><i class="fa fa-check"></i><b>2.1.3</b> Need more help?</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#packages"><i class="fa fa-check"></i><b>2.2</b> Packages</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#packages-on-cran"><i class="fa fa-check"></i><b>2.2.1</b> Packages on CRAN</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#check-if-the-package-you-need-is-available-in-your-r-library"><i class="fa fa-check"></i><b>2.2.2</b> Check if the package you need is available in your R library</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#install-an-r-package"><i class="fa fa-check"></i><b>2.2.3</b> Install an R package</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#directory"><i class="fa fa-check"></i><b>2.3</b> Directory</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#starting-your-r-job"><i class="fa fa-check"></i><b>2.3.1</b> Starting your R job</a></li>
<li class="chapter" data-level="2.3.2" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#create-new-project"><i class="fa fa-check"></i><b>2.3.2</b> Create new project</a></li>
<li class="chapter" data-level="2.3.3" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#where-is-my-data"><i class="fa fa-check"></i><b>2.3.3</b> Where is my data?</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#upload-data-to-rstudio-cloud"><i class="fa fa-check"></i><b>2.4</b> Upload data to RStudio Cloud</a></li>
<li class="chapter" data-level="2.5" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#more-resources-on-rstudio-cloud"><i class="fa fa-check"></i><b>2.5</b> More resources on RStudio Cloud</a></li>
<li class="chapter" data-level="2.6" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#need-help"><i class="fa fa-check"></i><b>2.6</b> Need help?</a></li>
<li class="chapter" data-level="2.7" data-path="r-scripts-and-r-packages.html"><a href="r-scripts-and-r-packages.html#bookdown"><i class="fa fa-check"></i><b>2.7</b> Bookdown</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rstudio-project.html"><a href="rstudio-project.html"><i class="fa fa-check"></i><b>3</b> RStudio Project</a>
<ul>
<li class="chapter" data-level="3.1" data-path="rstudio-project.html"><a href="rstudio-project.html#objectives"><i class="fa fa-check"></i><b>3.1</b> Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="rstudio-project.html"><a href="rstudio-project.html#dataset-repository-on-github"><i class="fa fa-check"></i><b>3.2</b> Dataset repository on GitHub</a></li>
<li class="chapter" data-level="3.3" data-path="rstudio-project.html"><a href="rstudio-project.html#rstudio-project-on-rstudio-cloud"><i class="fa fa-check"></i><b>3.3</b> RStudio project on RStudio Cloud</a></li>
<li class="chapter" data-level="3.4" data-path="rstudio-project.html"><a href="rstudio-project.html#rstudio-project-on-local-machine"><i class="fa fa-check"></i><b>3.4</b> RStudio project on local machine</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>4</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-visualization.html"><a href="data-visualization.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="data-visualization.html"><a href="data-visualization.html#history-and-objectives-of-data-visualization"><i class="fa fa-check"></i><b>4.2</b> History and objectives of Data Visualization</a></li>
<li class="chapter" data-level="4.3" data-path="data-visualization.html"><a href="data-visualization.html#ingredients-for-good-graphics"><i class="fa fa-check"></i><b>4.3</b> Ingredients for Good Graphics</a></li>
<li class="chapter" data-level="4.4" data-path="data-visualization.html"><a href="data-visualization.html#graphics-packages-in-r"><i class="fa fa-check"></i><b>4.4</b> Graphics Packages in R</a></li>
<li class="chapter" data-level="4.5" data-path="data-visualization.html"><a href="data-visualization.html#the-ggplot2-package"><i class="fa fa-check"></i><b>4.5</b> The <strong>ggplot2</strong> Package</a></li>
<li class="chapter" data-level="4.6" data-path="data-visualization.html"><a href="data-visualization.html#preparation"><i class="fa fa-check"></i><b>4.6</b> Preparation</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="data-visualization.html"><a href="data-visualization.html#create-a-new-rstudio-project"><i class="fa fa-check"></i><b>4.6.1</b> Create a New RStudio Project</a></li>
<li class="chapter" data-level="4.6.2" data-path="data-visualization.html"><a href="data-visualization.html#important-questions-when-making-graphs"><i class="fa fa-check"></i><b>4.6.2</b> Important Questions when Making Graphs</a></li>
<li class="chapter" data-level="4.6.3" data-path="data-visualization.html"><a href="data-visualization.html#read-data"><i class="fa fa-check"></i><b>4.6.3</b> Read Data</a></li>
<li class="chapter" data-level="4.6.4" data-path="data-visualization.html"><a href="data-visualization.html#load-the-library"><i class="fa fa-check"></i><b>4.6.4</b> Load the Library</a></li>
<li class="chapter" data-level="4.6.5" data-path="data-visualization.html"><a href="data-visualization.html#read-dataset"><i class="fa fa-check"></i><b>4.6.5</b> Read Dataset</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="data-visualization.html"><a href="data-visualization.html#basic-plots"><i class="fa fa-check"></i><b>4.7</b> Basic Plots</a></li>
<li class="chapter" data-level="4.8" data-path="data-visualization.html"><a href="data-visualization.html#adding-another-variable"><i class="fa fa-check"></i><b>4.8</b> Adding another variable</a></li>
<li class="chapter" data-level="4.9" data-path="data-visualization.html"><a href="data-visualization.html#making-subplots"><i class="fa fa-check"></i><b>4.9</b> Making Subplots</a></li>
<li class="chapter" data-level="4.10" data-path="data-visualization.html"><a href="data-visualization.html#overlaying-plots"><i class="fa fa-check"></i><b>4.10</b> Overlaying Plots</a></li>
<li class="chapter" data-level="4.11" data-path="data-visualization.html"><a href="data-visualization.html#combining-different-plots"><i class="fa fa-check"></i><b>4.11</b> Combining Different Plots</a></li>
<li class="chapter" data-level="4.12" data-path="data-visualization.html"><a href="data-visualization.html#statistical-transformation"><i class="fa fa-check"></i><b>4.12</b> Statistical Transformation</a></li>
<li class="chapter" data-level="4.13" data-path="data-visualization.html"><a href="data-visualization.html#customizing-title"><i class="fa fa-check"></i><b>4.13</b> Customizing Title</a></li>
<li class="chapter" data-level="4.14" data-path="data-visualization.html"><a href="data-visualization.html#adjusting-axes"><i class="fa fa-check"></i><b>4.14</b> Adjusting Axes</a></li>
<li class="chapter" data-level="4.15" data-path="data-visualization.html"><a href="data-visualization.html#choosing-themes"><i class="fa fa-check"></i><b>4.15</b> Choosing Themes</a></li>
<li class="chapter" data-level="4.16" data-path="data-visualization.html"><a href="data-visualization.html#saving-plots"><i class="fa fa-check"></i><b>4.16</b> Saving Plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>5</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-wrangling.html"><a href="data-wrangling.html#definition-of-data-wrangling"><i class="fa fa-check"></i><b>5.1</b> Definition of data wrangling</a></li>
<li class="chapter" data-level="5.2" data-path="data-wrangling.html"><a href="data-wrangling.html#data-wrangling-with-dplyr-package"><i class="fa fa-check"></i><b>5.2</b> Data wrangling with <strong>dplyr</strong> package</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data-wrangling.html"><a href="data-wrangling.html#dplyr-package"><i class="fa fa-check"></i><b>5.2.1</b> <strong>dplyr</strong> package</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-wrangling.html"><a href="data-wrangling.html#common-procedures-for-doing-data-transformation"><i class="fa fa-check"></i><b>5.3</b> Common procedures for doing data transformation</a></li>
<li class="chapter" data-level="5.4" data-path="data-wrangling.html"><a href="data-wrangling.html#some-dplyr-functions"><i class="fa fa-check"></i><b>5.4</b> Some <strong>dplyr</strong> functions</a></li>
<li class="chapter" data-level="5.5" data-path="data-wrangling.html"><a href="data-wrangling.html#create-a-new-project-or-set-your-working-directory"><i class="fa fa-check"></i><b>5.5</b> Create a new project or set your working directory</a></li>
<li class="chapter" data-level="5.6" data-path="data-wrangling.html"><a href="data-wrangling.html#load-the-libraries"><i class="fa fa-check"></i><b>5.6</b> Load the libraries</a></li>
<li class="chapter" data-level="5.7" data-path="data-wrangling.html"><a href="data-wrangling.html#datasets"><i class="fa fa-check"></i><b>5.7</b> Datasets</a></li>
<li class="chapter" data-level="5.8" data-path="data-wrangling.html"><a href="data-wrangling.html#select-variables-generate-new-variable-and-rename-variable"><i class="fa fa-check"></i><b>5.8</b> Select variables, generate new variable and rename variable</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="data-wrangling.html"><a href="data-wrangling.html#select-variables-using-dplyrselect"><i class="fa fa-check"></i><b>5.8.1</b> Select variables using <code>dplyr::select()</code></a></li>
<li class="chapter" data-level="5.8.2" data-path="data-wrangling.html"><a href="data-wrangling.html#generate-new-variable-using-mutate"><i class="fa fa-check"></i><b>5.8.2</b> Generate new variable using <code>mutate()</code></a></li>
<li class="chapter" data-level="5.8.3" data-path="data-wrangling.html"><a href="data-wrangling.html#rename-variable-using-rename"><i class="fa fa-check"></i><b>5.8.3</b> Rename variable using <code>rename()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="data-wrangling.html"><a href="data-wrangling.html#sorting-data-and-select-observation"><i class="fa fa-check"></i><b>5.9</b> Sorting data and select observation</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="data-wrangling.html"><a href="data-wrangling.html#sorting-data-using-arrange"><i class="fa fa-check"></i><b>5.9.1</b> Sorting data using <code>arrange()</code></a></li>
<li class="chapter" data-level="5.9.2" data-path="data-wrangling.html"><a href="data-wrangling.html#select-observation-using-filter"><i class="fa fa-check"></i><b>5.9.2</b> Select observation using <code>filter()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="data-wrangling.html"><a href="data-wrangling.html#group-data-and-get-summary-statistics"><i class="fa fa-check"></i><b>5.10</b> Group data and get summary statistics</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="data-wrangling.html"><a href="data-wrangling.html#group-data-using-group_by"><i class="fa fa-check"></i><b>5.10.1</b> Group data using <code>group_by()</code></a></li>
<li class="chapter" data-level="5.10.2" data-path="data-wrangling.html"><a href="data-wrangling.html#summary-statistic-using-summarize"><i class="fa fa-check"></i><b>5.10.2</b> Summary statistic using <code>summarize()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="data-wrangling.html"><a href="data-wrangling.html#more-complicated-dplyr-verbs"><i class="fa fa-check"></i><b>5.11</b> More complicated <strong>dplyr</strong> verbs</a></li>
<li class="chapter" data-level="5.12" data-path="data-wrangling.html"><a href="data-wrangling.html#data-transformation-for-categorical-variables"><i class="fa fa-check"></i><b>5.12</b> Data transformation for categorical variables</a>
<ul>
<li class="chapter" data-level="5.12.1" data-path="data-wrangling.html"><a href="data-wrangling.html#forcats-package"><i class="fa fa-check"></i><b>5.12.1</b> <strong>forcats</strong> package</a></li>
<li class="chapter" data-level="5.12.2" data-path="data-wrangling.html"><a href="data-wrangling.html#conversion-from-numeric-to-factor-variables"><i class="fa fa-check"></i><b>5.12.2</b> Conversion from numeric to factor variables</a></li>
<li class="chapter" data-level="5.12.3" data-path="data-wrangling.html"><a href="data-wrangling.html#recoding-variables"><i class="fa fa-check"></i><b>5.12.3</b> Recoding variables</a></li>
<li class="chapter" data-level="5.12.4" data-path="data-wrangling.html"><a href="data-wrangling.html#changing-the-level-of-categorical-variable"><i class="fa fa-check"></i><b>5.12.4</b> Changing the level of categorical variable</a></li>
</ul></li>
<li class="chapter" data-level="5.13" data-path="data-wrangling.html"><a href="data-wrangling.html#summary"><i class="fa fa-check"></i><b>5.13</b> Summary</a></li>
<li class="chapter" data-level="5.14" data-path="data-wrangling.html"><a href="data-wrangling.html#self-practice"><i class="fa fa-check"></i><b>5.14</b> Self-practice</a></li>
<li class="chapter" data-level="5.15" data-path="data-wrangling.html"><a href="data-wrangling.html#references"><i class="fa fa-check"></i><b>5.15</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>6</b> R Markdown</a>
<ul>
<li class="chapter" data-level="6.1" data-path="r-markdown.html"><a href="r-markdown.html#motivation"><i class="fa fa-check"></i><b>6.1</b> Motivation</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="r-markdown.html"><a href="r-markdown.html#what-is-r-markdown"><i class="fa fa-check"></i><b>6.1.1</b> What is R Markdown?</a></li>
<li class="chapter" data-level="6.1.2" data-path="r-markdown.html"><a href="r-markdown.html#why-should-we-bother-learning-r-markdown"><i class="fa fa-check"></i><b>6.1.2</b> Why should we bother learning R Markdown?</a></li>
<li class="chapter" data-level="6.1.3" data-path="r-markdown.html"><a href="r-markdown.html#sources-to-learn-r-markdown"><i class="fa fa-check"></i><b>6.1.3</b> Sources to learn R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="r-markdown.html"><a href="r-markdown.html#r-markdown-basics"><i class="fa fa-check"></i><b>6.2</b> R Markdown Basics</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="r-markdown.html"><a href="r-markdown.html#install-rmarkdown-package"><i class="fa fa-check"></i><b>6.2.1</b> Install <code>rmarkdown</code> package</a></li>
<li class="chapter" data-level="6.2.2" data-path="r-markdown.html"><a href="r-markdown.html#install-latex-package-for-pdf"><i class="fa fa-check"></i><b>6.2.2</b> Install LaTeX package for PDF</a></li>
<li class="chapter" data-level="6.2.3" data-path="r-markdown.html"><a href="r-markdown.html#new-.rmd-file"><i class="fa fa-check"></i><b>6.2.3</b> New .Rmd file</a></li>
<li class="chapter" data-level="6.2.4" data-path="r-markdown.html"><a href="r-markdown.html#knit-it"><i class="fa fa-check"></i><b>6.2.4</b> Knit it!</a></li>
<li class="chapter" data-level="6.2.5" data-path="r-markdown.html"><a href="r-markdown.html#yaml-header"><i class="fa fa-check"></i><b>6.2.5</b> YAML header</a></li>
<li class="chapter" data-level="6.2.6" data-path="r-markdown.html"><a href="r-markdown.html#code-chunks"><i class="fa fa-check"></i><b>6.2.6</b> Code chunks</a></li>
<li class="chapter" data-level="6.2.7" data-path="r-markdown.html"><a href="r-markdown.html#header-levels"><i class="fa fa-check"></i><b>6.2.7</b> Header levels</a></li>
<li class="chapter" data-level="6.2.8" data-path="r-markdown.html"><a href="r-markdown.html#exercise-1"><i class="fa fa-check"></i><b>6.2.8</b> Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="r-markdown.html"><a href="r-markdown.html#table"><i class="fa fa-check"></i><b>6.3</b> Table</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="r-markdown.html"><a href="r-markdown.html#basic-table"><i class="fa fa-check"></i><b>6.3.1</b> Basic table</a></li>
<li class="chapter" data-level="6.3.2" data-path="r-markdown.html"><a href="r-markdown.html#table-from-data-frame"><i class="fa fa-check"></i><b>6.3.2</b> Table (from data frame)</a></li>
<li class="chapter" data-level="6.3.3" data-path="r-markdown.html"><a href="r-markdown.html#more-on-table"><i class="fa fa-check"></i><b>6.3.3</b> More on table</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="r-markdown.html"><a href="r-markdown.html#plot-figure-and-image"><i class="fa fa-check"></i><b>6.4</b> Plot, figure and image</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="r-markdown.html"><a href="r-markdown.html#plot-caption-fig.cap"><i class="fa fa-check"></i><b>6.4.1</b> Plot caption – <code>fig.cap</code></a></li>
<li class="chapter" data-level="6.4.2" data-path="r-markdown.html"><a href="r-markdown.html#plot-size-fig.heightin-inch"><i class="fa fa-check"></i><b>6.4.2</b> Plot size – <code>fig.height</code>(in inch)</a></li>
<li class="chapter" data-level="6.4.3" data-path="r-markdown.html"><a href="r-markdown.html#plot-size-fig.width-in-inch"><i class="fa fa-check"></i><b>6.4.3</b> Plot size – <code>fig.width</code> (in inch)</a></li>
<li class="chapter" data-level="6.4.4" data-path="r-markdown.html"><a href="r-markdown.html#plot-aspect-ratio-fig.asp"><i class="fa fa-check"></i><b>6.4.4</b> Plot aspect ratio – <code>fig.asp</code></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="r-markdown.html"><a href="r-markdown.html#image"><i class="fa fa-check"></i><b>6.5</b> Image</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="r-markdown.html"><a href="r-markdown.html#exercise-2"><i class="fa fa-check"></i><b>6.5.1</b> Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="r-markdown.html"><a href="r-markdown.html#inline-output"><i class="fa fa-check"></i><b>6.6</b> Inline output</a></li>
<li class="chapter" data-level="6.7" data-path="r-markdown.html"><a href="r-markdown.html#equation"><i class="fa fa-check"></i><b>6.7</b> Equation</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="r-markdown.html"><a href="r-markdown.html#mathematical-equation"><i class="fa fa-check"></i><b>6.7.1</b> Mathematical equation</a></li>
<li class="chapter" data-level="6.7.2" data-path="r-markdown.html"><a href="r-markdown.html#inline-equation"><i class="fa fa-check"></i><b>6.7.2</b> Inline equation</a></li>
<li class="chapter" data-level="6.7.3" data-path="r-markdown.html"><a href="r-markdown.html#display-equation"><i class="fa fa-check"></i><b>6.7.3</b> Display equation</a></li>
<li class="chapter" data-level="6.7.4" data-path="r-markdown.html"><a href="r-markdown.html#exercise-3"><i class="fa fa-check"></i><b>6.7.4</b> Exercise 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html"><i class="fa fa-check"></i><b>7</b> Exploratory data analysis (EDA)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#motivation-1"><i class="fa fa-check"></i><b>7.1</b> Motivation</a></li>
<li class="chapter" data-level="7.2" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#questions-to-ask-before-making-graphs"><i class="fa fa-check"></i><b>7.2</b> Questions to ask before making graphs</a></li>
<li class="chapter" data-level="7.3" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#eda-using-ggplot2-package"><i class="fa fa-check"></i><b>7.3</b> EDA using ggplot2 package</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#usage-of-ggplot2"><i class="fa fa-check"></i><b>7.3.1</b> Usage of <strong>ggplot2</strong></a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#loading-the-library"><i class="fa fa-check"></i><b>7.4</b> Loading the library</a></li>
<li class="chapter" data-level="7.5" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#the-dataset"><i class="fa fa-check"></i><b>7.5</b> The dataset</a></li>
<li class="chapter" data-level="7.6" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>7.6</b> Exploratory data analysis</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#statistics"><i class="fa fa-check"></i><b>7.6.1</b> Statistics</a></li>
<li class="chapter" data-level="7.6.2" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#plots"><i class="fa fa-check"></i><b>7.6.2</b> Plots</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#one-variable-distribution-of-a-categorical-variable"><i class="fa fa-check"></i><b>7.7</b> One variable: Distribution of a categorical variable</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#bar-chart"><i class="fa fa-check"></i><b>7.7.1</b> Bar chart</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#one-variable-distribution-of-a-numerical-variable"><i class="fa fa-check"></i><b>7.8</b> One variable: Distribution of a numerical variable</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#histogram"><i class="fa fa-check"></i><b>7.8.1</b> Histogram</a></li>
<li class="chapter" data-level="7.8.2" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#density-curve"><i class="fa fa-check"></i><b>7.8.2</b> Density curve</a></li>
<li class="chapter" data-level="7.8.3" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#histogram-and-density-curve-together"><i class="fa fa-check"></i><b>7.8.3</b> Histogram and density curve together</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#two-variables-plotting-a-numerical-and-a-categorical-variable"><i class="fa fa-check"></i><b>7.9</b> Two variables: Plotting a numerical and a categorical variable</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#overlaying-histogramss-and-boxplot"><i class="fa fa-check"></i><b>7.9.1</b> Overlaying histogramss and boxplot</a></li>
<li class="chapter" data-level="7.9.2" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#faceting-the-plots"><i class="fa fa-check"></i><b>7.9.2</b> Faceting the plots</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#line-plot"><i class="fa fa-check"></i><b>7.10</b> Line plot</a></li>
<li class="chapter" data-level="7.11" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#plotting-means-and-error-bars"><i class="fa fa-check"></i><b>7.11</b> Plotting means and error bars</a></li>
<li class="chapter" data-level="7.12" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#scatterplot-with-fit-line"><i class="fa fa-check"></i><b>7.12</b> Scatterplot with fit line</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>8</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="8.1" data-path="linear-regression.html"><a href="linear-regression.html#simple-linear-regression-slr"><i class="fa fa-check"></i><b>8.1</b> Simple linear regression (SLR)</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="linear-regression.html"><a href="linear-regression.html#about-slr"><i class="fa fa-check"></i><b>8.1.1</b> About SLR</a></li>
<li class="chapter" data-level="8.1.2" data-path="linear-regression.html"><a href="linear-regression.html#analysis"><i class="fa fa-check"></i><b>8.1.2</b> Analysis</a></li>
<li class="chapter" data-level="8.1.3" data-path="linear-regression.html"><a href="linear-regression.html#data-exploration"><i class="fa fa-check"></i><b>8.1.3</b> Data exploration</a></li>
<li class="chapter" data-level="8.1.4" data-path="linear-regression.html"><a href="linear-regression.html#univariable"><i class="fa fa-check"></i><b>8.1.4</b> Univariable</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="linear-regression.html"><a href="linear-regression.html#multiple-linear-regression-mlr"><i class="fa fa-check"></i><b>8.2</b> Multiple linear regression (MLR)</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="linear-regression.html"><a href="linear-regression.html#about-mlr"><i class="fa fa-check"></i><b>8.2.1</b> About MLR</a></li>
<li class="chapter" data-level="8.2.2" data-path="linear-regression.html"><a href="linear-regression.html#analysis-1"><i class="fa fa-check"></i><b>8.2.2</b> Analysis</a></li>
<li class="chapter" data-level="8.2.3" data-path="linear-regression.html"><a href="linear-regression.html#multicollinearity-mc"><i class="fa fa-check"></i><b>8.2.3</b> Multicollinearity, MC</a></li>
<li class="chapter" data-level="8.2.4" data-path="linear-regression.html"><a href="linear-regression.html#interaction"><i class="fa fa-check"></i><b>8.2.4</b> Interaction, *</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="linear-regression.html"><a href="linear-regression.html#model-fit-assessment-residuals"><i class="fa fa-check"></i><b>8.3</b> Model fit assessment: Residuals</a>
<ul>
<li class="chapter" data-level="" data-path="linear-regression.html"><a href="linear-regression.html#histogram-1"><i class="fa fa-check"></i>Histogram</a></li>
<li class="chapter" data-level="" data-path="linear-regression.html"><a href="linear-regression.html#scatter-plots"><i class="fa fa-check"></i>Scatter plots</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="linear-regression.html"><a href="linear-regression.html#interpretation-1"><i class="fa fa-check"></i><b>8.4</b> Interpretation</a></li>
<li class="chapter" data-level="8.5" data-path="linear-regression.html"><a href="linear-regression.html#model-equation-1"><i class="fa fa-check"></i><b>8.5</b> Model equation</a></li>
<li class="chapter" data-level="8.6" data-path="linear-regression.html"><a href="linear-regression.html#prediction"><i class="fa fa-check"></i><b>8.6</b> Prediction</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html"><i class="fa fa-check"></i><b>9</b> Binary Logistic Regression</a>
<ul>
<li class="chapter" data-level="9.1" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#introduction-1"><i class="fa fa-check"></i><b>9.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#background"><i class="fa fa-check"></i><b>9.1.1</b> Background</a></li>
<li class="chapter" data-level="9.1.2" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#objectives-1"><i class="fa fa-check"></i><b>9.1.2</b> Objectives</a></li>
<li class="chapter" data-level="9.1.3" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#further-readings"><i class="fa fa-check"></i><b>9.1.3</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#dataset"><i class="fa fa-check"></i><b>9.2</b> Dataset</a></li>
<li class="chapter" data-level="9.3" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#the-logit-and-logistic-models"><i class="fa fa-check"></i><b>9.3</b> The logit and logistic models</a></li>
<li class="chapter" data-level="9.4" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#prepare-environment-for-analysis"><i class="fa fa-check"></i><b>9.4</b> Prepare environment for analysis</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#creating-a-rstudio-project"><i class="fa fa-check"></i><b>9.4.1</b> Creating a RStudio project</a></li>
<li class="chapter" data-level="9.4.2" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#loading-libraries"><i class="fa fa-check"></i><b>9.4.2</b> Loading libraries</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#read-data-1"><i class="fa fa-check"></i><b>9.5</b> Read data</a></li>
<li class="chapter" data-level="9.6" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#explore-data"><i class="fa fa-check"></i><b>9.6</b> Explore data</a></li>
<li class="chapter" data-level="9.7" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#estimate-the-regression-parameters"><i class="fa fa-check"></i><b>9.7</b> Estimate the regression parameters</a></li>
<li class="chapter" data-level="9.8" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#simple-binary-logistic-regression"><i class="fa fa-check"></i><b>9.8</b> Simple binary logistic regression</a></li>
<li class="chapter" data-level="9.9" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#multiple-binary-logistic-regression"><i class="fa fa-check"></i><b>9.9</b> Multiple binary logistic regression</a></li>
<li class="chapter" data-level="9.10" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#convert-the-log-odds-to-odds-ratio"><i class="fa fa-check"></i><b>9.10</b> Convert the log odds to odds ratio</a></li>
<li class="chapter" data-level="9.11" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#making-inference"><i class="fa fa-check"></i><b>9.11</b> Making inference</a></li>
<li class="chapter" data-level="9.12" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#model-comparison"><i class="fa fa-check"></i><b>9.12</b> Model comparison</a></li>
<li class="chapter" data-level="9.13" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#adding-an-interaction-term"><i class="fa fa-check"></i><b>9.13</b> Adding an interaction term</a></li>
<li class="chapter" data-level="9.14" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#prediction-from-binary-logistic-regression"><i class="fa fa-check"></i><b>9.14</b> Prediction from binary logistic regression</a>
<ul>
<li class="chapter" data-level="9.14.1" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#predict-the-log-odds"><i class="fa fa-check"></i><b>9.14.1</b> Predict the log odds</a></li>
<li class="chapter" data-level="9.14.2" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#predict-the-probabilities"><i class="fa fa-check"></i><b>9.14.2</b> Predict the probabilities</a></li>
</ul></li>
<li class="chapter" data-level="9.15" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#model-fitness"><i class="fa fa-check"></i><b>9.15</b> Model fitness</a></li>
<li class="chapter" data-level="9.16" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#presentation"><i class="fa fa-check"></i><b>9.16</b> Presentation</a></li>
<li class="chapter" data-level="9.17" data-path="binary-logistic-regression.html"><a href="binary-logistic-regression.html#references-1"><i class="fa fa-check"></i><b>9.17</b> References</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="poisson-regression.html"><a href="poisson-regression.html"><i class="fa fa-check"></i><b>10</b> Poisson Regression</a>
<ul>
<li class="chapter" data-level="10.1" data-path="poisson-regression.html"><a href="poisson-regression.html#introduction-2"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="poisson-regression.html"><a href="poisson-regression.html#preliminaries"><i class="fa fa-check"></i><b>10.2</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="poisson-regression.html"><a href="poisson-regression.html#load-libraries"><i class="fa fa-check"></i><b>10.2.1</b> Load libraries</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="poisson-regression.html"><a href="poisson-regression.html#simple-poisson-regression-models"><i class="fa fa-check"></i><b>10.3</b> Simple Poisson regression models</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="poisson-regression.html"><a href="poisson-regression.html#count-data"><i class="fa fa-check"></i><b>10.3.1</b> Count data</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="poisson-regression.html"><a href="poisson-regression.html#rate-data"><i class="fa fa-check"></i><b>10.4</b> Rate data</a></li>
<li class="chapter" data-level="10.5" data-path="poisson-regression.html"><a href="poisson-regression.html#multiple-poisson-regression-model"><i class="fa fa-check"></i><b>10.5</b> Multiple Poisson regression model</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="poisson-regression.html"><a href="poisson-regression.html#univariable-1"><i class="fa fa-check"></i><b>10.5.1</b> Univariable</a></li>
<li class="chapter" data-level="10.5.2" data-path="poisson-regression.html"><a href="poisson-regression.html#multivariable-1"><i class="fa fa-check"></i><b>10.5.2</b> Multivariable</a></li>
<li class="chapter" data-level="10.5.3" data-path="poisson-regression.html"><a href="poisson-regression.html#interaction-1"><i class="fa fa-check"></i><b>10.5.3</b> Interaction</a></li>
<li class="chapter" data-level="10.5.4" data-path="poisson-regression.html"><a href="poisson-regression.html#final-model"><i class="fa fa-check"></i><b>10.5.4</b> Final model</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="poisson-regression.html"><a href="poisson-regression.html#references-2"><i class="fa fa-check"></i><b>10.6</b> References</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="survival-analysis.html"><a href="survival-analysis.html"><i class="fa fa-check"></i><b>11</b> Survival Analysis</a>
<ul>
<li class="chapter" data-level="11.1" data-path="survival-analysis.html"><a href="survival-analysis.html#introduction-3"><i class="fa fa-check"></i><b>11.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="survival-analysis.html"><a href="survival-analysis.html#background-1"><i class="fa fa-check"></i><b>11.1.1</b> Background</a></li>
<li class="chapter" data-level="11.1.2" data-path="survival-analysis.html"><a href="survival-analysis.html#types-of-survival-analysis"><i class="fa fa-check"></i><b>11.1.2</b> Types of survival analysis</a></li>
<li class="chapter" data-level="11.1.3" data-path="survival-analysis.html"><a href="survival-analysis.html#objectives-2"><i class="fa fa-check"></i><b>11.1.3</b> Objectives</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="survival-analysis.html"><a href="survival-analysis.html#prepare-environment-for-analysis-1"><i class="fa fa-check"></i><b>11.2</b> Prepare environment for analysis</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="survival-analysis.html"><a href="survival-analysis.html#rstudio-project-1"><i class="fa fa-check"></i><b>11.2.1</b> RStudio project</a></li>
<li class="chapter" data-level="11.2.2" data-path="survival-analysis.html"><a href="survival-analysis.html#packages-1"><i class="fa fa-check"></i><b>11.2.2</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="survival-analysis.html"><a href="survival-analysis.html#data"><i class="fa fa-check"></i><b>11.3</b> Data</a></li>
<li class="chapter" data-level="11.4" data-path="survival-analysis.html"><a href="survival-analysis.html#exploratory-data"><i class="fa fa-check"></i><b>11.4</b> Exploratory data</a></li>
<li class="chapter" data-level="11.5" data-path="survival-analysis.html"><a href="survival-analysis.html#kaplan-meier-survival-estimates"><i class="fa fa-check"></i><b>11.5</b> Kaplan-Meier survival estimates</a></li>
<li class="chapter" data-level="11.6" data-path="survival-analysis.html"><a href="survival-analysis.html#plot-the-survival-probability"><i class="fa fa-check"></i><b>11.6</b> Plot the survival probability</a></li>
<li class="chapter" data-level="11.7" data-path="survival-analysis.html"><a href="survival-analysis.html#comparing-kaplan-meier-estimates-across-groups"><i class="fa fa-check"></i><b>11.7</b> Comparing Kaplan-Meier estimates across groups</a>
<ul>
<li class="chapter" data-level="11.7.1" data-path="survival-analysis.html"><a href="survival-analysis.html#log-rank-test"><i class="fa fa-check"></i><b>11.7.1</b> Log-rank test</a></li>
<li class="chapter" data-level="11.7.2" data-path="survival-analysis.html"><a href="survival-analysis.html#peto-peto-test"><i class="fa fa-check"></i><b>11.7.2</b> peto-peto test</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="survival-analysis.html"><a href="survival-analysis.html#semi-parametric-models-in-survival-analysis"><i class="fa fa-check"></i><b>11.8</b> Semi-parametric models in survival analysis</a>
<ul>
<li class="chapter" data-level="11.8.1" data-path="survival-analysis.html"><a href="survival-analysis.html#cox-proportional-hazard-regression"><i class="fa fa-check"></i><b>11.8.1</b> Cox proportional hazard regression</a></li>
<li class="chapter" data-level="11.8.2" data-path="survival-analysis.html"><a href="survival-analysis.html#advantages-of-the-cox-proportional-hazard-regression"><i class="fa fa-check"></i><b>11.8.2</b> Advantages of the Cox proportional hazard regression</a></li>
</ul></li>
<li class="chapter" data-level="11.9" data-path="survival-analysis.html"><a href="survival-analysis.html#estimation-from-cox-proportional-hazards-regression"><i class="fa fa-check"></i><b>11.9</b> Estimation from Cox proportional hazards regression</a>
<ul>
<li class="chapter" data-level="11.9.1" data-path="survival-analysis.html"><a href="survival-analysis.html#simple-cox-ph-regression"><i class="fa fa-check"></i><b>11.9.1</b> Simple Cox PH regression</a></li>
<li class="chapter" data-level="11.9.2" data-path="survival-analysis.html"><a href="survival-analysis.html#multiple-cox-ph-regression"><i class="fa fa-check"></i><b>11.9.2</b> Multiple Cox PH regression</a></li>
</ul></li>
<li class="chapter" data-level="11.10" data-path="survival-analysis.html"><a href="survival-analysis.html#inference"><i class="fa fa-check"></i><b>11.10</b> Inference</a></li>
<li class="chapter" data-level="11.11" data-path="survival-analysis.html"><a href="survival-analysis.html#adding-interaction-in-the-model"><i class="fa fa-check"></i><b>11.11</b> Adding interaction in the model</a></li>
<li class="chapter" data-level="11.12" data-path="survival-analysis.html"><a href="survival-analysis.html#the-proportional-hazard-assumption"><i class="fa fa-check"></i><b>11.12</b> The proportional hazard assumption</a>
<ul>
<li class="chapter" data-level="11.12.1" data-path="survival-analysis.html"><a href="survival-analysis.html#risk-constant-over-time"><i class="fa fa-check"></i><b>11.12.1</b> Risk constant over time</a></li>
<li class="chapter" data-level="11.12.2" data-path="survival-analysis.html"><a href="survival-analysis.html#test-for-ph-assumption"><i class="fa fa-check"></i><b>11.12.2</b> Test for PH assumption</a></li>
<li class="chapter" data-level="11.12.3" data-path="survival-analysis.html"><a href="survival-analysis.html#plots-to-assess-ph-assumption"><i class="fa fa-check"></i><b>11.12.3</b> Plots to assess PH assumption</a></li>
</ul></li>
<li class="chapter" data-level="11.13" data-path="survival-analysis.html"><a href="survival-analysis.html#model-checking"><i class="fa fa-check"></i><b>11.13</b> Model checking</a>
<ul>
<li class="chapter" data-level="11.13.1" data-path="survival-analysis.html"><a href="survival-analysis.html#prediction-from-cox-ph-model"><i class="fa fa-check"></i><b>11.13.1</b> Prediction from Cox PH model</a></li>
<li class="chapter" data-level="11.13.2" data-path="survival-analysis.html"><a href="survival-analysis.html#residuas-from-cox-ph-model"><i class="fa fa-check"></i><b>11.13.2</b> Residuas from Cox PH model</a></li>
<li class="chapter" data-level="11.13.3" data-path="survival-analysis.html"><a href="survival-analysis.html#influential-observations"><i class="fa fa-check"></i><b>11.13.3</b> Influential observations</a></li>
</ul></li>
<li class="chapter" data-level="11.14" data-path="survival-analysis.html"><a href="survival-analysis.html#plot-the-adjusted-survival"><i class="fa fa-check"></i><b>11.14</b> Plot the adjusted survival</a></li>
<li class="chapter" data-level="11.15" data-path="survival-analysis.html"><a href="survival-analysis.html#presentation-and-interpretation"><i class="fa fa-check"></i><b>11.15</b> Presentation and interpretation</a></li>
<li class="chapter" data-level="11.16" data-path="survival-analysis.html"><a href="survival-analysis.html#references-3"><i class="fa fa-check"></i><b>11.16</b> References</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="missing-data.html"><a href="missing-data.html"><i class="fa fa-check"></i><b>12</b> Missing data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="missing-data.html"><a href="missing-data.html#introduction-4"><i class="fa fa-check"></i><b>12.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="missing-data.html"><a href="missing-data.html#background-2"><i class="fa fa-check"></i><b>12.1.1</b> Background</a></li>
<li class="chapter" data-level="12.1.2" data-path="missing-data.html"><a href="missing-data.html#objectives-3"><i class="fa fa-check"></i><b>12.1.2</b> Objectives</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="missing-data.html"><a href="missing-data.html#preliminaries-1"><i class="fa fa-check"></i><b>12.2</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="missing-data.html"><a href="missing-data.html#packages-2"><i class="fa fa-check"></i><b>12.2.1</b> Packages</a></li>
<li class="chapter" data-level="12.2.2" data-path="missing-data.html"><a href="missing-data.html#dataset-1"><i class="fa fa-check"></i><b>12.2.2</b> Dataset</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="missing-data.html"><a href="missing-data.html#exploring-missing-data"><i class="fa fa-check"></i><b>12.3</b> Exploring missing data</a></li>
<li class="chapter" data-level="12.4" data-path="missing-data.html"><a href="missing-data.html#handling-missing-data"><i class="fa fa-check"></i><b>12.4</b> Handling missing data</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="missing-data.html"><a href="missing-data.html#listwise-deletion"><i class="fa fa-check"></i><b>12.4.1</b> Listwise deletion</a></li>
<li class="chapter" data-level="12.4.2" data-path="missing-data.html"><a href="missing-data.html#simple-imputation"><i class="fa fa-check"></i><b>12.4.2</b> Simple imputation</a></li>
<li class="chapter" data-level="12.4.3" data-path="missing-data.html"><a href="missing-data.html#single-imputation"><i class="fa fa-check"></i><b>12.4.3</b> Single imputation</a></li>
<li class="chapter" data-level="12.4.4" data-path="missing-data.html"><a href="missing-data.html#multiple-imputation"><i class="fa fa-check"></i><b>12.4.4</b> Multiple imputation</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="missing-data.html"><a href="missing-data.html#presentation-1"><i class="fa fa-check"></i><b>12.5</b> Presentation</a></li>
<li class="chapter" data-level="12.6" data-path="missing-data.html"><a href="missing-data.html#references-4"><i class="fa fa-check"></i><b>12.6</b> References</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-5.html"><a href="references-5.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis in Medicine and Health using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-wrangling" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Data Wrangling</h1>
<div id="definition-of-data-wrangling" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Definition of data wrangling</h2>
<p>Data wrangling is also known as Data Munging or Data Transformation. It is loosely the process of manually converting or mapping data from one “raw” form into another format. The process allows for more convenient consumption of the data. In doing so, we will be using semi-automated tools in RStudio. You can find more information here <a href="https://community.modeanalytics.com/sql/tutorial/data-wrangling-with-sql/" class="uri">https://community.modeanalytics.com/sql/tutorial/data-wrangling-with-sql/</a></p>
</div>
<div id="data-wrangling-with-dplyr-package" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Data wrangling with <strong>dplyr</strong> package</h2>
<div id="dplyr-package" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> <strong>dplyr</strong> package</h3>
<p><strong>dplyr</strong> is a package grouped inside <strong>tidyverse</strong> collection of packages. <strong>dplyr</strong> package is a very useful package to munge or wrangle or to tranform your data. It is a grammar of data manipulation. It provides a consistent set of verbs that help you solve the most common data manipulation challenges. This <strong>tidyverse</strong> webpage <a href="https://github.com/tidyverse/dplyr" class="uri">https://github.com/tidyverse/dplyr</a> has more information and examples.</p>
</div>
</div>
<div id="common-procedures-for-doing-data-transformation" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Common procedures for doing data transformation</h2>
<p>The common data wrangling procedures that data analyst does include:</p>
<ol style="list-style-type: decimal">
<li>reducing the size of dataset by selecting certain variables (or columns)</li>
<li>generating new variable from existing variables</li>
<li>sorting observation of a variable</li>
<li>grouping observations based on certain criteria</li>
<li>reducing variable to groups to in order to estimate summary statistic</li>
</ol>
</div>
<div id="some-dplyr-functions" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Some <strong>dplyr</strong> functions</h2>
<p>For the procedures listed above, the corresponding <strong>dplyr</strong> functions are</p>
<ol style="list-style-type: decimal">
<li><code>dplyr::select()</code> - to select a number of variables from a dataframe</li>
<li><code>dplyr::mutate()</code> - to generate a new variable from existing variables</li>
<li><code>dplyr::arrange()</code> - to sort observation of a variable</li>
<li><code>dplyr::filter()</code> - to group observations that fulfil certain criteria</li>
<li><code>dplyr::group_by()</code> and <code>dplyr::summarize()</code> - to reduce variable to groups in order to provide summary statistic</li>
</ol>
</div>
<div id="create-a-new-project-or-set-your-working-directory" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> Create a new project or set your working directory</h2>
<p>It is very important to ensure you know where your working directory is. To do so, the best practice is <em>is to create a new project everytime you want to start new analysis with R</em>. To do so, create a new project by <code>File -&gt; New Project</code>. If you do not start with a new project, you still need to know <strong>Where is my working directory?</strong>.</p>
<p>So, again we emphasize that every time you want to start processing your data, please make sure:</p>
<ol style="list-style-type: decimal">
<li>you use R project. It is much easier and cleaner to start your work with a new R project. Once you have done or need to log off your computer, close the project and reopen the project the next time you need to.<br />
</li>
<li>that if you are not using R project, you are inside the correct working directory. Type <code>getwd()</code> to display the active <strong>working directory</strong>. And to set a new working directory use the function <code>setwd()</code>. Once you are know where your working directory is, you can start read or import data into your working directory.</li>
</ol>
<p>Once you are inside the project, you can import your data if necessary.</p>
</div>
<div id="load-the-libraries" class="section level2" number="5.6">
<h2><span class="header-section-number">5.6</span> Load the libraries</h2>
<p>Remember, there are a number of packages you can use to read the data into R. R can read almost all (if not all format) types of data format. For example, we know that common data format are the:</p>
<ol style="list-style-type: decimal">
<li>SPSS (<code>.sav</code>) format,</li>
<li>Stata (<code>.dta</code>) format,</li>
<li>SAS format,</li>
<li>MS Excel (<code>.xlsx</code>) format</li>
<li>Comma-separated-values <code>.csv</code> format.</li>
</ol>
<p>But they are other formats too for examples data in DICOM format. DICOM format data includes data from CT scan and MRI images. There are data in shapefile format to store geographical information. Three packages - <strong>haven</strong>, <strong>rio</strong>, <strong>readr</strong> and <strong>foreign</strong> packages - are very useful to read or import your data into R memory.</p>
<ol style="list-style-type: decimal">
<li><strong>readr</strong> provides a fast and friendly way to read rectangular data (like csv, tsv, and fwf). This is contained inside the <strong>tidyverse</strong> metapackage</li>
<li><strong>rio</strong> provides a quick way to read almost all type of spreadsheet and statistical software data</li>
<li><strong>readxl</strong> reads .xls and .xlsx sheets.</li>
<li><strong>haven</strong> reads SPSS, Stata, and SAS data.</li>
</ol>
<p>We will use the <strong>here</strong> package to facilitate us working with the working directory and <strong>lubridate</strong> to help us wrangle dates.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="data-wrangling.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## -- Attaching packages --------------------------------------- tidyverse 1.3.1 --</code></pre>
<pre><code>## v ggplot2 3.3.5     v purrr   0.3.4
## v tibble  3.1.6     v dplyr   1.0.7
## v tidyr   1.1.4     v stringr 1.4.0
## v readr   2.1.1     v forcats 0.5.1</code></pre>
<pre><code>## Warning: package &#39;tibble&#39; was built under R version 4.1.2</code></pre>
<pre><code>## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="data-wrangling.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rio)</span></code></pre></div>
<pre><code>## Warning: package &#39;rio&#39; was built under R version 4.1.2</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="data-wrangling.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code></pre></div>
<pre><code>## here() starts at C:/Tengku/Sync_PC_Laptop/tulis-buku/multivariable-analysis/fork-profKIM/multivar_data_analysis</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="data-wrangling.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     date, intersect, setdiff, union</code></pre>
<p>When we read dataset that have long variable names and spaces - especially after reading MS Excel dataset - we can use the <strong>janitor</strong> package to generate more R user-friendly variable names.</p>
</div>
<div id="datasets" class="section level2" number="5.7">
<h2><span class="header-section-number">5.7</span> Datasets</h2>
<p>We will use 2 datasets</p>
<ul>
<li>the stroke dataset in <code>csv</code> format</li>
<li>the peptic ulcer dataset in <code>xlsx</code> format</li>
</ul>
<p>Let’s read the datasets and name it, each as</p>
<ul>
<li>stroke</li>
<li>pep</li>
</ul>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="data-wrangling.html#cb107-1" aria-hidden="true" tabindex="-1"></a>stroke <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">&#39;data&#39;</span>, <span class="st">&#39;stroke_data.csv&#39;</span>))</span></code></pre></div>
<pre><code>## Rows: 213 Columns: 12</code></pre>
<pre><code>## -- Column specification --------------------------------------------------------
## Delimiter: &quot;,&quot;
## chr (7): doa, dod, status, sex, dm, stroke_type, referral_from
## dbl (5): gcs, sbp, dbp, wbc, time2</code></pre>
<pre><code>## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="data-wrangling.html#cb111-1" aria-hidden="true" tabindex="-1"></a>pep <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="fu">here</span>(<span class="st">&#39;data&#39;</span>, <span class="st">&#39;peptic_ulcer.xlsx&#39;</span>))</span></code></pre></div>
<p>Take a peek at the dataset</p>
<ul>
<li>219 observations</li>
<li>12 variables</li>
</ul>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="data-wrangling.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(stroke)</span></code></pre></div>
<pre><code>## Rows: 213
## Columns: 12
## $ doa           &lt;chr&gt; &quot;17/2/2011&quot;, &quot;20/3/2011&quot;, &quot;9/4/2011&quot;, &quot;12/4/2011&quot;, &quot;12/4~
## $ dod           &lt;chr&gt; &quot;18/2/2011&quot;, &quot;21/3/2011&quot;, &quot;10/4/2011&quot;, &quot;13/4/2011&quot;, &quot;13/~
## $ status        &lt;chr&gt; &quot;alive&quot;, &quot;alive&quot;, &quot;dead&quot;, &quot;dead&quot;, &quot;alive&quot;, &quot;dead&quot;, &quot;aliv~
## $ sex           &lt;chr&gt; &quot;male&quot;, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;, &quot;female&quot;, &quot;m~
## $ dm            &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;yes&quot;,~
## $ gcs           &lt;dbl&gt; 15, 15, 11, 3, 15, 3, 11, 15, 6, 15, 15, 4, 4, 10, 12, 1~
## $ sbp           &lt;dbl&gt; 151, 196, 126, 170, 103, 91, 171, 106, 170, 123, 144, 23~
## $ dbp           &lt;dbl&gt; 73, 123, 78, 103, 62, 55, 80, 67, 90, 83, 89, 120, 120, ~
## $ wbc           &lt;dbl&gt; 12.5, 8.1, 15.3, 13.9, 14.7, 14.2, 8.7, 5.5, 10.5, 7.2, ~
## $ time2         &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,~
## $ stroke_type   &lt;chr&gt; &quot;IS&quot;, &quot;IS&quot;, &quot;HS&quot;, &quot;IS&quot;, &quot;IS&quot;, &quot;HS&quot;, &quot;IS&quot;, &quot;IS&quot;, &quot;HS&quot;, &quot;I~
## $ referral_from &lt;chr&gt; &quot;non-hospital&quot;, &quot;non-hospital&quot;, &quot;hospital&quot;, &quot;hospital&quot;, ~</code></pre>
<ul>
<li>121 observations</li>
<li>34 variables</li>
</ul>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="data-wrangling.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(pep)</span></code></pre></div>
<pre><code>## Rows: 121
## Columns: 34
## $ age                 &lt;dbl&gt; 42, 66, 67, 19, 77, 39, 62, 71, 69, 97, 52, 21, 57~
## $ gender              &lt;chr&gt; &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;male&quot;, &quot;male&quot;, &quot;male&quot;, ~
## $ epigastric_pain     &lt;chr&gt; &quot;yes&quot;, &quot;yes&quot;, &quot;yes&quot;, &quot;yes&quot;, &quot;yes&quot;, &quot;yes&quot;, &quot;yes&quot;, &quot;~
## $ vomiting            &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, ~
## $ nausea              &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;~
## $ fever               &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;yes&quot;, ~
## $ diarrhea            &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, ~
## $ malena              &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;n~
## $ onset_more_24_hrs   &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;yes&quot;, &quot;yes&quot;, &quot;yes&quot;, &quot;no&quot;~
## $ NSAIDS              &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;~
## $ septic_shock        &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;n~
## $ previous_OGDS       &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;~
## $ ASA                 &lt;dbl&gt; 1, 1, 1, 1, 2, 1, 2, 2, 1, 1, 2, 1, 2, 1, 1, 2, 2,~
## $ systolic            &lt;dbl&gt; 141, 197, 126, 90, 147, 115, 103, 159, 145, 105, 1~
## $ diastolic           &lt;dbl&gt; 98, 88, 73, 40, 82, 86, 55, 68, 75, 65, 74, 50, 86~
## $ inotropes           &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;n~
## $ pulse               &lt;dbl&gt; 109, 126, 64, 112, 89, 96, 100, 57, 86, 100, 109, ~
## $ tenderness          &lt;chr&gt; &quot;generalized&quot;, &quot;generalized&quot;, &quot;generalized&quot;, &quot;loca~
## $ guarding            &lt;chr&gt; &quot;yes&quot;, &quot;yes&quot;, &quot;yes&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;yes&quot;, &quot;n~
## $ hemoglobin          &lt;dbl&gt; 18.0, 12.0, 12.0, 12.0, 11.0, 18.0, 8.1, 13.3, 11.~
## $ twc                 &lt;dbl&gt; 6.0, 6.0, 13.0, 20.0, 21.0, 4.0, 5.0, 12.0, 6.0, 2~
## $ platelet            &lt;dbl&gt; 415, 292, 201, 432, 324, 260, 461, 210, 293, 592, ~
## $ creatinine          &lt;dbl&gt; 135, 66, 80, 64, 137, 102, 69, 92, 94, 104, 58, 24~
## $ albumin             &lt;chr&gt; &quot;27&quot;, &quot;28&quot;, &quot;32&quot;, &quot;42&quot;, &quot;38&quot;, &quot;38&quot;, &quot;30&quot;, &quot;41&quot;, &quot;N~
## $ PULP                &lt;dbl&gt; 2, 3, 3, 2, 7, 1, 2, 5, 3, 4, 2, 3, 4, 3, 5, 5, 1,~
## $ admission_to_op_hrs &lt;dbl&gt; 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5, 5, 6, 6, 6, 6,~
## $ perforation         &lt;dbl&gt; 0.5, 1.0, 0.5, 0.5, 1.0, 1.0, 3.0, 1.5, 0.5, 1.5, ~
## $ degree_perforation  &lt;chr&gt; &quot;small&quot;, &quot;small&quot;, &quot;small&quot;, &quot;small&quot;, &quot;small&quot;, &quot;smal~
## $ side_perforation    &lt;chr&gt; &quot;distal stomach&quot;, &quot;distal stomach&quot;, &quot;distal stomac~
## $ ICU                 &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, ~
## $ SSSI                &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;n~
## $ anast_leak          &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;n~
## $ sepsis              &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;~
## $ outcome             &lt;chr&gt; &quot;alive&quot;, &quot;alive&quot;, &quot;alive&quot;, &quot;alive&quot;, &quot;alive&quot;, &quot;aliv~</code></pre>
<p>Next, we examine the first 10 observations of the data. There rest are NOT SHOWN. You can also see the types of the variables:</p>
<ol style="list-style-type: decimal">
<li><code>chr</code> (character),</li>
<li><code>int</code> (integer),</li>
<li><code>dbl</code> (double)</li>
</ol>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="data-wrangling.html#cb116-1" aria-hidden="true" tabindex="-1"></a>stroke</span></code></pre></div>
<pre><code>## # A tibble: 213 x 12
##    doa       dod    status sex   dm      gcs   sbp   dbp   wbc time2 stroke_type
##    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      
##  1 17/2/2011 18/2/~ alive  male  no       15   151    73  12.5     1 IS         
##  2 20/3/2011 21/3/~ alive  male  no       15   196   123   8.1     1 IS         
##  3 9/4/2011  10/4/~ dead   fema~ no       11   126    78  15.3     1 HS         
##  4 12/4/2011 13/4/~ dead   male  no        3   170   103  13.9     1 IS         
##  5 12/4/2011 13/4/~ alive  fema~ yes      15   103    62  14.7     1 IS         
##  6 4/5/2011  5/5/2~ dead   fema~ no        3    91    55  14.2     1 HS         
##  7 22/5/2011 23/5/~ alive  male  no       11   171    80   8.7     1 IS         
##  8 23/5/2011 24/5/~ alive  fema~ yes      15   106    67   5.5     1 IS         
##  9 11/7/2011 12/7/~ dead   fema~ yes       6   170    90  10.5     1 HS         
## 10 4/9/2011  5/9/2~ alive  fema~ no       15   123    83   7.2     1 IS         
## # ... with 203 more rows, and 1 more variable: referral_from &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="data-wrangling.html#cb118-1" aria-hidden="true" tabindex="-1"></a>pep <span class="sc">%&gt;%</span> <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##    age gender epigastric_pain vomiting nausea fever diarrhea malena
## 1   42   male             yes       no     no    no       no     no
## 2   66 female             yes       no     no    no       no     no
## 3   67   male             yes       no     no    no      yes     no
## 4   19   male             yes       no     no    no       no     no
## 5   77   male             yes      yes    yes    no       no     no
## 6   39   male             yes       no     no   yes       no     no
## 7   62 female             yes       no     no    no       no     no
## 8   71 female             yes      yes     no   yes      yes     no
## 9   69   male             yes       no     no   yes       no     no
## 10  97 female             yes       no     no    no       no     no
##    onset_more_24_hrs NSAIDS septic_shock previous_OGDS ASA systolic diastolic
## 1                 no     no           no            no   1      141        98
## 2                 no     no           no            no   1      197        88
## 3                 no    yes           no            no   1      126        73
## 4                yes     no           no           yes   1       90        40
## 5                yes     no           no            no   2      147        82
## 6                yes     no           no            no   1      115        86
## 7                yes     no           no            no   2      103        55
## 8                 no     no           no            no   2      159        68
## 9                 no    yes           no            no   1      145        75
## 10               yes    yes           no            no   1      105        65
##    inotropes pulse  tenderness guarding hemoglobin twc platelet creatinine
## 1         no   109 generalized      yes       18.0   6      415        135
## 2         no   126 generalized      yes       12.0   6      292         66
## 3         no    64 generalized      yes       12.0  13      201         80
## 4         no   112   localized      yes       12.0  20      432         64
## 5         no    89 generalized       no       11.0  21      324        137
## 6         no    96 generalized      yes       18.0   4      260        102
## 7         no   100 generalized      yes        8.1   5      461         69
## 8         no    57   localized       no       13.3  12      210         92
## 9         no    86 generalized      yes       11.8   6      293         94
## 10        no   100 generalized      yes       10.0  28      592        104
##    albumin PULP admission_to_op_hrs perforation degree_perforation
## 1       27    2                   2         0.5              small
## 2       28    3                   2         1.0              small
## 3       32    3                   3         0.5              small
## 4       42    2                   3         0.5              small
## 5       38    7                   3         1.0              small
## 6       38    1                   3         1.0              small
## 7       30    2                   4         3.0              large
## 8       41    5                   4         1.5           moderate
## 9       NA    3                   4         0.5              small
## 10      29    4                   4         1.5           moderate
##    side_perforation ICU SSSI anast_leak sepsis outcome
## 1    distal stomach  no   no         no     no   alive
## 2    distal stomach  no   no         no     no   alive
## 3    distal stomach  no   no         no     no   alive
## 4    distal stomach  no   no         no     no   alive
## 5    distal stomach yes   no         no     no   alive
## 6          duodenum  no   no         no     no   alive
## 7    distal stomach yes   no         no    yes    dead
## 8    distal stomach  no   no         no     no   alive
## 9    distal stomach  no   no         no     no   alive
## 10   distal stomach yes   no         no     no   alive</code></pre>
</div>
<div id="select-variables-generate-new-variable-and-rename-variable" class="section level2" number="5.8">
<h2><span class="header-section-number">5.8</span> Select variables, generate new variable and rename variable</h2>
<p>We will work with these functions</p>
<ul>
<li><code>dplyr::select()</code></li>
<li><code>dplyr::mutate()</code> and</li>
<li><code>dplyr::rename()</code></li>
</ul>
<div id="select-variables-using-dplyrselect" class="section level3" number="5.8.1">
<h3><span class="header-section-number">5.8.1</span> Select variables using <code>dplyr::select()</code></h3>
<p>When you work with large datasets with many columns, sometimes it is easier to select only the necessary columns to reduce the size of dataset. This is possible by creating a smaller dataset (less variables). Then you can work on at the initial part of data analysis with this smaller dataset. This will greatly help data exploration.</p>
<p>To create smaller datasets, select some of the columns (variables) in the dataset. For example, in <code>pep</code> data, we have 34 variables. Let us generate a new dataset named as <code>pep2</code> with only 10 variables ,</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="data-wrangling.html#cb120-1" aria-hidden="true" tabindex="-1"></a>pep2 <span class="ot">&lt;-</span> pep <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(age, systolic, diastolic, perforation, twc,</span>
<span id="cb120-2"><a href="data-wrangling.html#cb120-2" aria-hidden="true" tabindex="-1"></a>                              gender, vomiting, malena, ASA, outcome)</span>
<span id="cb120-3"><a href="data-wrangling.html#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(pep2)</span></code></pre></div>
<pre><code>## Rows: 121
## Columns: 10
## $ age         &lt;dbl&gt; 42, 66, 67, 19, 77, 39, 62, 71, 69, 97, 52, 21, 57, 58, 84~
## $ systolic    &lt;dbl&gt; 141, 197, 126, 90, 147, 115, 103, 159, 145, 105, 113, 92, ~
## $ diastolic   &lt;dbl&gt; 98, 88, 73, 40, 82, 86, 55, 68, 75, 65, 74, 50, 86, 65, 50~
## $ perforation &lt;dbl&gt; 0.5, 1.0, 0.5, 0.5, 1.0, 1.0, 3.0, 1.5, 0.5, 1.5, 1.0, 0.5~
## $ twc         &lt;dbl&gt; 6.0, 6.0, 13.0, 20.0, 21.0, 4.0, 5.0, 12.0, 6.0, 28.0, 11.~
## $ gender      &lt;chr&gt; &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;male&quot;, &quot;male&quot;, &quot;male&quot;, &quot;female&quot;~
## $ vomiting    &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;n~
## $ malena      &lt;chr&gt; &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;, &quot;no&quot;~
## $ ASA         &lt;dbl&gt; 1, 1, 1, 1, 2, 1, 2, 2, 1, 1, 2, 1, 2, 1, 1, 2, 2, 1, 1, 3~
## $ outcome     &lt;chr&gt; &quot;alive&quot;, &quot;alive&quot;, &quot;alive&quot;, &quot;alive&quot;, &quot;alive&quot;, &quot;alive&quot;, &quot;dea~</code></pre>
<p>The new dataset <code>pep2</code> is now created. You can see it in the <code>Environment</code> pane.</p>
</div>
<div id="generate-new-variable-using-mutate" class="section level3" number="5.8.2">
<h3><span class="header-section-number">5.8.2</span> Generate new variable using <code>mutate()</code></h3>
<p>With <code>mutate()</code>, you can generate new variable. For example, in the dataset <code>pep2</code>, we want to create a new variable named as <code>pulse_pressure</code>. This variable equals systolic minus diastolic BP.</p>
<p><span class="math display">\[pulse \: pressure = systolic \: BP - diastolic \: BP \]</span></p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="data-wrangling.html#cb122-1" aria-hidden="true" tabindex="-1"></a>pep2 <span class="ot">&lt;-</span> pep2 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">pulse_pressure =</span> systolic <span class="sc">-</span> diastolic)</span>
<span id="cb122-2"><a href="data-wrangling.html#cb122-2" aria-hidden="true" tabindex="-1"></a>pep2 <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(systolic, diastolic, pulse_pressure )</span></code></pre></div>
<pre><code>##     systolic diastolic pulse_pressure
## 1        141        98             43
## 2        197        88            109
## 3        126        73             53
## 4         90        40             50
## 5        147        82             65
## 6        115        86             29
## 7        103        55             48
## 8        159        68             91
## 9        145        75             70
## 10       105        65             40
## 11       113        74             39
## 12        92        50             42
## 13       122        86             36
## 14       117        65             52
## 15       103        50             53
## 16        70        40             30
## 17       106        62             44
## 18       150        82             68
## 19        72        38             34
## 20       147        63             84
## 21       131        63             68
## 22       121        71             50
## 23       135        82             53
## 24       111        57             54
## 25       129        62             67
## 26       154        78             76
## 27       105        67             38
## 28       117        71             46
## 29       111        67             44
## 30       133        72             61
## 31        88        60             28
## 32       152        90             62
## 33       130        95             35
## 34       161       116             45
## 35       142        63             79
## 36       152        80             72
## 37       102        74             28
## 38       109        45             64
## 39       148        69             79
## 40       129        60             69
## 41       112        67             45
## 42        67        50             17
## 43       112        63             49
## 44       108        60             48
## 45       121        81             40
## 46       190        90            100
## 47       100        54             46
## 48       123        59             64
## 49       125        67             58
## 50       152        81             71
## 51       141        87             54
## 52       136        68             68
## 53       116        69             47
## 54       135        76             59
## 55       135        81             54
## 56       114        58             56
## 57       193        93            100
## 58       160        84             76
## 59       128        68             60
## 60       110        82             28
## 61       140        80             60
## 62       115        65             50
## 63       141        82             59
## 64       105        66             39
## 65       143        68             75
## 66       110        68             42
## 67       112        57             55
## 68       115        76             39
## 69       118        74             44
## 70       110        66             44
## 71       122        75             47
## 72       128        84             44
## 73       117        85             32
## 74       136        72             64
## 75       163        67             96
## 76       105        51             54
## 77       120        70             50
## 78       145        79             66
## 79       121        71             50
## 80       129       100             29
## 81       121        81             40
## 82       120        80             40
## 83        84        46             38
## 84       131        84             47
## 85       134        61             73
## 86       114        56             58
## 87       173        70            103
## 88       124        66             58
## 89        95        50             45
## 90       157        73             84
## 91       197        81            116
## 92       143        93             50
## 93       149        66             83
## 94       140        67             73
## 95       128        75             53
## 96       130        68             62
## 97       183        84             99
## 98       123        80             43
## 99       154        80             74
## 100      139        97             42
## 101      151        71             80
## 102      165        92             73
## 103      132        80             52
## 104      163       105             58
## 105      160        90             70
## 106      140        90             50
## 107      161        99             62
## 108      148        81             67
## 109      101        57             44
## 110      115        75             40
## 111      130        72             58
## 112      130        67             63
## 113      123        53             70
## 114      118        60             58
## 115      100        67             33
## 116      112        74             38
## 117      104        65             39
## 118      130        80             50
## 119      129        63             66
## 120      133        80             53
## 121      119        66             53</code></pre>
<p>Now for stroke dataset, we will convert doa and dod, both a character variable to variable of date type</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="data-wrangling.html#cb124-1" aria-hidden="true" tabindex="-1"></a>stroke <span class="ot">&lt;-</span> stroke <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">doa =</span> <span class="fu">dmy</span>(doa), <span class="at">dod =</span> <span class="fu">dmy</span>(dod))</span>
<span id="cb124-2"><a href="data-wrangling.html#cb124-2" aria-hidden="true" tabindex="-1"></a>stroke</span></code></pre></div>
<pre><code>## # A tibble: 213 x 12
##    doa        dod        status sex    dm      gcs   sbp   dbp   wbc time2
##    &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 2011-02-17 2011-02-18 alive  male   no       15   151    73  12.5     1
##  2 2011-03-20 2011-03-21 alive  male   no       15   196   123   8.1     1
##  3 2011-04-09 2011-04-10 dead   female no       11   126    78  15.3     1
##  4 2011-04-12 2011-04-13 dead   male   no        3   170   103  13.9     1
##  5 2011-04-12 2011-04-13 alive  female yes      15   103    62  14.7     1
##  6 2011-05-04 2011-05-05 dead   female no        3    91    55  14.2     1
##  7 2011-05-22 2011-05-23 alive  male   no       11   171    80   8.7     1
##  8 2011-05-23 2011-05-24 alive  female yes      15   106    67   5.5     1
##  9 2011-07-11 2011-07-12 dead   female yes       6   170    90  10.5     1
## 10 2011-09-04 2011-09-05 alive  female no       15   123    83   7.2     1
## # ... with 203 more rows, and 2 more variables: stroke_type &lt;chr&gt;,
## #   referral_from &lt;chr&gt;</code></pre>
</div>
<div id="rename-variable-using-rename" class="section level3" number="5.8.3">
<h3><span class="header-section-number">5.8.3</span> Rename variable using <code>rename()</code></h3>
<p>Now, we want to rename</p>
<ul>
<li>variable gender to sex</li>
<li>variable ASA to asa</li>
</ul>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="data-wrangling.html#cb126-1" aria-hidden="true" tabindex="-1"></a>pep2 <span class="ot">&lt;-</span> pep2 <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">sex =</span> gender,</span>
<span id="cb126-2"><a href="data-wrangling.html#cb126-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">asa =</span> ASA)</span></code></pre></div>
</div>
</div>
<div id="sorting-data-and-select-observation" class="section level2" number="5.9">
<h2><span class="header-section-number">5.9</span> Sorting data and select observation</h2>
<p>The function <code>arrange()</code> can sort the data. And the function <code>filter()</code> allows you to select observations based on your criteria.</p>
<div id="sorting-data-using-arrange" class="section level3" number="5.9.1">
<h3><span class="header-section-number">5.9.1</span> Sorting data using <code>arrange()</code></h3>
<p>We can sort data in ascending or descending order. To do that, we will use <code>arrange()</code>. It will sort the observation based on the values of the specified variable. For dataset <code>stroke</code>, let us sort the <code>doa</code> from the earliest.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="data-wrangling.html#cb127-1" aria-hidden="true" tabindex="-1"></a>stroke <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(doa)</span></code></pre></div>
<pre><code>## # A tibble: 213 x 12
##    doa        dod        status sex    dm      gcs   sbp   dbp   wbc time2
##    &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 2011-01-01 2011-01-05 dead   female yes      15   150    87  12.5     4
##  2 2011-01-03 2011-01-06 alive  male   no       15   152   108   7.4     3
##  3 2011-01-06 2011-01-22 alive  female yes      15   231   117  22.4    16
##  4 2011-01-16 2011-02-08 alive  female no       11   110    79   9.6    23
##  5 2011-01-18 2011-01-23 alive  male   no       15   199   134  18.7     5
##  6 2011-01-20 2011-01-24 dead   female no        7   190   101  11.3     4
##  7 2011-01-25 2011-02-16 alive  female yes       5   145   102  15.8    22
##  8 2011-01-28 2011-02-11 dead   female yes      13   161    96   8.5    14
##  9 2011-01-29 2011-02-02 alive  male   no       15   222   129   9       4
## 10 2011-01-31 2011-02-02 alive  male   no       15   161   107   9.5     2
## # ... with 203 more rows, and 2 more variables: stroke_type &lt;chr&gt;,
## #   referral_from &lt;chr&gt;</code></pre>
</div>
<div id="select-observation-using-filter" class="section level3" number="5.9.2">
<h3><span class="header-section-number">5.9.2</span> Select observation using <code>filter()</code></h3>
<p>To select observations based on certain criteria, we use the <code>filter()</code> function. Here, in this example, we will create a new dataset (which we will name as <code>stroke_m_40</code>) that contains patients that have sex as male and Glasgow Coma Scale (gcs) at 7 or higher:</p>
<ul>
<li>gender is male</li>
<li>gcs at 7 or higher</li>
</ul>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="data-wrangling.html#cb129-1" aria-hidden="true" tabindex="-1"></a>stroke_m_7 <span class="ot">&lt;-</span> stroke <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&#39;male&#39;</span>, gcs <span class="sc">&gt;=</span> <span class="dv">7</span>)</span>
<span id="cb129-2"><a href="data-wrangling.html#cb129-2" aria-hidden="true" tabindex="-1"></a>stroke_m_7</span></code></pre></div>
<pre><code>## # A tibble: 85 x 12
##    doa        dod        status sex   dm      gcs   sbp   dbp   wbc time2
##    &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 2011-02-17 2011-02-18 alive  male  no       15   151    73  12.5     1
##  2 2011-03-20 2011-03-21 alive  male  no       15   196   123   8.1     1
##  3 2011-05-22 2011-05-23 alive  male  no       11   171    80   8.7     1
##  4 2011-11-28 2011-11-29 dead   male  no       10   207   128  10.8     1
##  5 2012-02-22 2012-02-23 dead   male  no        7   150    80  15.5     1
##  6 2012-03-25 2012-03-26 alive  male  no       14   128    79  10.3     1
##  7 2012-04-02 2012-04-03 alive  male  no       15   143    59   7.1     1
##  8 2011-01-31 2011-02-02 alive  male  no       15   161   107   9.5     2
##  9 2011-02-06 2011-02-08 alive  male  no       15   153    61  11.2     2
## 10 2011-02-20 2011-02-22 alive  male  no       15   143    93  15.6     2
## # ... with 75 more rows, and 2 more variables: stroke_type &lt;chr&gt;,
## #   referral_from &lt;chr&gt;</code></pre>
<p>Next, we will create a new dataset (named as <code>stroke_high_BP</code>) that contain</p>
<ul>
<li><code>sbp</code> above 130 OR <code>dbp</code> above 90, AND</li>
</ul>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="data-wrangling.html#cb131-1" aria-hidden="true" tabindex="-1"></a>stroke_high_BP <span class="ot">&lt;-</span> stroke <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sbp <span class="sc">&gt;</span> <span class="dv">130</span> <span class="sc">|</span> dbp <span class="sc">&gt;</span> <span class="dv">90</span>)</span>
<span id="cb131-2"><a href="data-wrangling.html#cb131-2" aria-hidden="true" tabindex="-1"></a>stroke_high_BP</span></code></pre></div>
<pre><code>## # A tibble: 173 x 12
##    doa        dod        status sex    dm      gcs   sbp   dbp   wbc time2
##    &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 2011-02-17 2011-02-18 alive  male   no       15   151    73  12.5     1
##  2 2011-03-20 2011-03-21 alive  male   no       15   196   123   8.1     1
##  3 2011-04-12 2011-04-13 dead   male   no        3   170   103  13.9     1
##  4 2011-05-22 2011-05-23 alive  male   no       11   171    80   8.7     1
##  5 2011-07-11 2011-07-12 dead   female yes       6   170    90  10.5     1
##  6 2011-10-12 2011-10-13 alive  female no       15   144    89   5.7     1
##  7 2011-10-21 2011-10-22 alive  male   no        4   230   120  12.7     1
##  8 2011-10-26 2011-10-27 dead   female no        4   207   120  16.5     1
##  9 2011-11-28 2011-11-29 dead   male   no       10   207   128  10.8     1
## 10 2011-12-29 2011-12-30 alive  female no       12   178   100   8.8     1
## # ... with 163 more rows, and 2 more variables: stroke_type &lt;chr&gt;,
## #   referral_from &lt;chr&gt;</code></pre>
</div>
</div>
<div id="group-data-and-get-summary-statistics" class="section level2" number="5.10">
<h2><span class="header-section-number">5.10</span> Group data and get summary statistics</h2>
<p>The<code>group_by()</code> function allows us to group data based on categorical variable. Using the <code>summarize</code> we do summary statistics for the overall data or for groups created using <code>group_by()</code> function.</p>
<div id="group-data-using-group_by" class="section level3" number="5.10.1">
<h3><span class="header-section-number">5.10.1</span> Group data using <code>group_by()</code></h3>
<p>The <code>group_by</code> function will prepare the data for group analysis. For example,</p>
<ol style="list-style-type: decimal">
<li>to get summary values for mean <code>sbp</code>, mean <code>dbp</code> and mean <code>gcs</code></li>
<li>for sex</li>
</ol>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="data-wrangling.html#cb133-1" aria-hidden="true" tabindex="-1"></a>stroke_sex <span class="ot">&lt;-</span> stroke <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(sex)</span></code></pre></div>
</div>
<div id="summary-statistic-using-summarize" class="section level3" number="5.10.2">
<h3><span class="header-section-number">5.10.2</span> Summary statistic using <code>summarize()</code></h3>
<p>Now that we have a group data named <code>stroke_sex</code>, now, we would summarize our data using the mean and standard deviation (SD) for the groups specified above.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="data-wrangling.html#cb134-1" aria-hidden="true" tabindex="-1"></a>stroke_sex <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">meansbp =</span> <span class="fu">mean</span>(sbp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb134-2"><a href="data-wrangling.html#cb134-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">meandbp  =</span> <span class="fu">mean</span>(dbp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb134-3"><a href="data-wrangling.html#cb134-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">meangcs =</span> <span class="fu">mean</span>(gcs, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 4
##   sex    meansbp meandbp meangcs
##   &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1 female    166.    91.5    11.9
## 2 male      159.    91.6    13.3</code></pre>
<p>To calculate the frequencies for two variables for pep dataset</p>
<ul>
<li>sex</li>
<li>outcome</li>
</ul>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="data-wrangling.html#cb136-1" aria-hidden="true" tabindex="-1"></a>pep2 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(sex) <span class="sc">%&gt;%</span></span>
<span id="cb136-2"><a href="data-wrangling.html#cb136-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(outcome, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 3
## # Groups:   sex [2]
##   sex    outcome     n
##   &lt;chr&gt;  &lt;chr&gt;   &lt;int&gt;
## 1 male   alive      70
## 2 male   dead       26
## 3 female alive      13
## 4 female dead       12</code></pre>
<p>or</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="data-wrangling.html#cb138-1" aria-hidden="true" tabindex="-1"></a>pep2 <span class="sc">%&gt;%</span> <span class="fu">count</span>(sex, outcome, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##      sex outcome  n
## 1   male   alive 70
## 2   male    dead 26
## 3 female   alive 13
## 4 female    dead 12</code></pre>
</div>
</div>
<div id="more-complicated-dplyr-verbs" class="section level2" number="5.11">
<h2><span class="header-section-number">5.11</span> More complicated <strong>dplyr</strong> verbs</h2>
<p>To be more efficent, use multiple <strong>dplyr</strong> (a package inside tidyverse metapackage) functions in one line of R code. For example,</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="data-wrangling.html#cb140-1" aria-hidden="true" tabindex="-1"></a>pep2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;male&quot;</span>, diastolic <span class="sc">&gt;=</span> <span class="dv">60</span>, systolic <span class="sc">&gt;=</span> <span class="dv">80</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb140-2"><a href="data-wrangling.html#cb140-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(age, systolic, diastolic, perforation, outcome) <span class="sc">%&gt;%</span></span>
<span id="cb140-3"><a href="data-wrangling.html#cb140-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(outcome) <span class="sc">%&gt;%</span></span>
<span id="cb140-4"><a href="data-wrangling.html#cb140-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_sbp =</span> <span class="fu">mean</span>(systolic, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb140-5"><a href="data-wrangling.html#cb140-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean_dbp =</span> <span class="fu">mean</span>(diastolic, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb140-6"><a href="data-wrangling.html#cb140-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean_perf =</span> <span class="fu">mean</span>(perforation, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb140-7"><a href="data-wrangling.html#cb140-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">freq =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 2 x 5
##   outcome mean_sbp mean_dbp mean_perf  freq
##   &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;int&gt;
## 1 alive       135.     77.2     0.920    61
## 2 dead        130.     75.5     1.80     23</code></pre>
</div>
<div id="data-transformation-for-categorical-variables" class="section level2" number="5.12">
<h2><span class="header-section-number">5.12</span> Data transformation for categorical variables</h2>
<div id="forcats-package" class="section level3" number="5.12.1">
<h3><span class="header-section-number">5.12.1</span> <strong>forcats</strong> package</h3>
<p>Data transformation for categorical variables (factor variables) can be facilitated using the <strong>forcats</strong> package.</p>
</div>
<div id="conversion-from-numeric-to-factor-variables" class="section level3" number="5.12.2">
<h3><span class="header-section-number">5.12.2</span> Conversion from numeric to factor variables</h3>
<p>Now, we will convert the integer (numerical) variable to a factor (categorical) variable. For example, we will generate a new factor (categorical) variable named as <code>high_bp</code> from variable <code>sbp</code> and <code>dbp</code> (which both are double variable). We will label <code>high_bp</code>as <em>High</em> or <em>Not High</em>.</p>
<p>The criteria:</p>
<ul>
<li>if sbp <span class="math inline">\(sbp \geq 130\)</span> or <span class="math inline">\(dbp \geq 90\)</span> then labelled as High, else is Not High</li>
</ul>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="data-wrangling.html#cb142-1" aria-hidden="true" tabindex="-1"></a>stroke <span class="ot">&lt;-</span> stroke <span class="sc">%&gt;%</span> </span>
<span id="cb142-2"><a href="data-wrangling.html#cb142-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">high_bp =</span> <span class="fu">if_else</span>(sbp <span class="sc">&gt;=</span> <span class="dv">130</span> <span class="sc">|</span> dbp <span class="sc">&gt;=</span> <span class="dv">90</span>, <span class="st">&quot;High&quot;</span>, <span class="st">&quot;Not High&quot;</span>))</span>
<span id="cb142-3"><a href="data-wrangling.html#cb142-3" aria-hidden="true" tabindex="-1"></a>stroke <span class="sc">%&gt;%</span> <span class="fu">count</span>(high_bp)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   high_bp      n
##   &lt;chr&gt;    &lt;int&gt;
## 1 High       177
## 2 Not High    36</code></pre>
<p>of by using <code>cut()</code></p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="data-wrangling.html#cb144-1" aria-hidden="true" tabindex="-1"></a>stroke <span class="ot">&lt;-</span> stroke <span class="sc">%&gt;%</span> </span>
<span id="cb144-2"><a href="data-wrangling.html#cb144-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cat_sbp =</span> <span class="fu">cut</span>(sbp, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">120</span>, <span class="dv">130</span>, <span class="cn">Inf</span>),</span>
<span id="cb144-3"><a href="data-wrangling.html#cb144-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;&lt;120&#39;</span>, <span class="st">&#39;121-130&#39;</span>, <span class="st">&#39;&gt;130&#39;</span>)))</span>
<span id="cb144-4"><a href="data-wrangling.html#cb144-4" aria-hidden="true" tabindex="-1"></a>stroke <span class="sc">%&gt;%</span> <span class="fu">count</span>(cat_sbp)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   cat_sbp     n
##   &lt;fct&gt;   &lt;int&gt;
## 1 &lt;120       25
## 2 121-130    16
## 3 &gt;130      172</code></pre>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="data-wrangling.html#cb146-1" aria-hidden="true" tabindex="-1"></a>stroke <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(cat_sbp) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">minsbp =</span> <span class="fu">min</span>(sbp),</span>
<span id="cb146-2"><a href="data-wrangling.html#cb146-2" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">maxsbp =</span> <span class="fu">max</span>(sbp))</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   cat_sbp minsbp maxsbp
##   &lt;fct&gt;    &lt;dbl&gt;  &lt;dbl&gt;
## 1 &lt;120        75    120
## 2 121-130    122    130
## 3 &gt;130       132    290</code></pre>
</div>
<div id="recoding-variables" class="section level3" number="5.12.3">
<h3><span class="header-section-number">5.12.3</span> Recoding variables</h3>
<p>We use this function to recode variables from the old levels to the new levels. For example:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="data-wrangling.html#cb148-1" aria-hidden="true" tabindex="-1"></a>stroke <span class="ot">&lt;-</span> stroke <span class="sc">%&gt;%</span></span>
<span id="cb148-2"><a href="data-wrangling.html#cb148-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cat_sbp2 =</span> <span class="fu">recode</span>(cat_sbp, <span class="st">&quot;&lt;120&quot;</span> <span class="ot">=</span> <span class="st">&quot;120 or less&quot;</span>,</span>
<span id="cb148-3"><a href="data-wrangling.html#cb148-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&quot;121-130&quot;</span> <span class="ot">=</span> <span class="st">&quot;121 to 130&quot;</span>,</span>
<span id="cb148-4"><a href="data-wrangling.html#cb148-4" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&quot;&gt;130&quot;</span> <span class="ot">=</span> <span class="st">&quot;131 or higher&quot;</span>))</span>
<span id="cb148-5"><a href="data-wrangling.html#cb148-5" aria-hidden="true" tabindex="-1"></a>stroke <span class="sc">%&gt;%</span> <span class="fu">count</span>(cat_sbp2)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   cat_sbp2          n
##   &lt;fct&gt;         &lt;int&gt;
## 1 120 or less      25
## 2 121 to 130       16
## 3 131 or higher   172</code></pre>
</div>
<div id="changing-the-level-of-categorical-variable" class="section level3" number="5.12.4">
<h3><span class="header-section-number">5.12.4</span> Changing the level of categorical variable</h3>
<p>Variable <code>cat_sbp</code> will be ordered as</p>
<ul>
<li>less or 120, then</li>
<li>121 - 130, then</li>
<li>131 or higher</li>
</ul>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="data-wrangling.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(stroke<span class="sc">$</span>cat_sbp)</span></code></pre></div>
<pre><code>## [1] &quot;&lt;120&quot;    &quot;121-130&quot; &quot;&gt;130&quot;</code></pre>
<p>To change in reverse for example, we can use <code>fct_relevel</code></p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="data-wrangling.html#cb152-1" aria-hidden="true" tabindex="-1"></a>stroke <span class="ot">&lt;-</span> stroke <span class="sc">%&gt;%</span></span>
<span id="cb152-2"><a href="data-wrangling.html#cb152-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">relevel_cat_sbp =</span> <span class="fu">fct_relevel</span>(cat_sbp, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;131 or higher&quot;</span>, </span>
<span id="cb152-3"><a href="data-wrangling.html#cb152-3" aria-hidden="true" tabindex="-1"></a>                                                       <span class="st">&quot;121 - 130&quot;</span>,</span>
<span id="cb152-4"><a href="data-wrangling.html#cb152-4" aria-hidden="true" tabindex="-1"></a>                                                       <span class="st">&quot;less or 120&quot;</span>)))</span></code></pre></div>
<pre><code>## Warning: Outer names are only allowed for unnamed scalar atomic inputs</code></pre>
<pre><code>## Warning: Unknown levels in `f`: 131 or higher, 121 - 130, less or 120</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="data-wrangling.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(stroke<span class="sc">$</span>relevel_cat_sbp)</span></code></pre></div>
<pre><code>## [1] &quot;&lt;120&quot;    &quot;121-130&quot; &quot;&gt;130&quot;</code></pre>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="data-wrangling.html#cb157-1" aria-hidden="true" tabindex="-1"></a>stroke <span class="sc">%&gt;%</span> <span class="fu">count</span>(relevel_cat_sbp)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   relevel_cat_sbp     n
##   &lt;fct&gt;           &lt;int&gt;
## 1 &lt;120               25
## 2 121-130            16
## 3 &gt;130              172</code></pre>
</div>
</div>
<div id="summary" class="section level2" number="5.13">
<h2><span class="header-section-number">5.13</span> Summary</h2>
<p><strong>dplyr</strong> package is a very useful package that encourages users to use proper verb when manipulating variables (columns) and observations (rows). We have learned to use 5 functions but there are more functions available. Other useful functions include:</p>
<ol style="list-style-type: decimal">
<li><code>dplyr::distinct()</code></li>
<li><code>dplyr::transmutate()</code></li>
<li><code>dplyr::sample_n()</code> and <code>dplyr::sample_frac()</code></li>
</ol>
<p>Also note that, package <strong>dplyr</strong> is very useful when it is combined with another function that is <code>group_by</code></p>
<p>If you working with database, you can use <strong>dbplyr</strong> which has been developed to perform very effectively with databases.</p>
<p>For categorical variables, you can use <strong>forcats</strong> package.</p>
</div>
<div id="self-practice" class="section level2" number="5.14">
<h2><span class="header-section-number">5.14</span> Self-practice</h2>
<p>If you have completed the tutorial above, you may:</p>
<ol style="list-style-type: decimal">
<li>Read your own data (hints: <strong>haven</strong>, <strong>foreign</strong>) or you can download data from <a href="https://www.kaggle.com/datasets" class="uri">https://www.kaggle.com/datasets</a> . Maybe can try this dataset <a href="https://www.kaggle.com/blastchar/telco-customer-churn" class="uri">https://www.kaggle.com/blastchar/telco-customer-churn</a></li>
<li>Create a smaller dataset by selecting some variable (hints: <code>dplyr::select()</code>)</li>
<li>Creating a dataset with some selection (hints: <code>dplyr::filter()</code>)</li>
<li>Generate a new variable (hints<code>dplyr::mutate()</code>)</li>
<li>Creata an object using pipe and combining <code>dplyr::select()</code>, <code>dplyr::filter()</code> and <code>dplyr::mutate()</code> in one single line of R code</li>
<li>Summarise the mean, standard deviation and median for numerical variables <code>dplyr::group_by()</code> and <code>dplyr::summarize()</code></li>
<li>Calculare the number of observations for categorical variables (hints: <code>dplyr::count()</code>)</li>
<li>Recode a categorical variable (hints: <code>forcats::fct_recode()</code>)</li>
</ol>
</div>
<div id="references" class="section level2" number="5.15">
<h2><span class="header-section-number">5.15</span> References</h2>
<ol style="list-style-type: decimal">
<li>dplyr vignettes here <a href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html" class="uri">https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html</a></li>
<li>forcats examples here <a href="http://r4ds.had.co.nz/factors.html" class="uri">http://r4ds.had.co.nz/factors.html</a></li>
<li>reading data into R <a href="https://garthtarr.github.io/meatR/rio.html" class="uri">https://garthtarr.github.io/meatR/rio.html</a></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-visualization.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-markdown.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/drkamarul04_data_transformation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["dataanalysis.pdf", "dataanalysis.epub", "dataanalysis.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
